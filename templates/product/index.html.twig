{% extends 'base.html.twig' %}

{% block title %}Nos produits{% endblock %}

{% block body %}
    <div class="container-fluid formProducts">
        <div class="divProduct" style="">
            {#Filtrage de produits par catégorie#}
            <div class="row">
                <div class="col-md-2 border bckg-ciel">
                    <div class=" container mt-3 filter bg-light">
                        <h3>Filtrer</h3>
                        {{ form_start(form) }}
                        {{ form_widget(form) }}   
                    </div>
                    
                    <hr class="mt-5 mb-5">
                    <div class="container bg-light">
                        <div id="carouselExampleIndicators10" class="carousel slide" data-bs-ride="carousel">
                            <ol class="carousel-indicators">
                                <li data-bs-target="#carouselExampleIndicators10" data-bs-slide-to="0" class="active"></li>
                                <li data-bs-target="#carouselExampleIndicators10" data-bs-slide-to="1"></li>
                                <li data-bs-target="#carouselExampleIndicators10" data-bs-slide-to="2"></li>
                            </ol>
                            <div class="carousel-inner">

                                <div class="carousel-item active">
                                    <img class="w-100 d-block img-fluid" src="/img/carousel-1.jpg" alt="Haircut Project">
                                </div>

                                <div class="carousel-item">
                                    <img class="d-block w-100" src="/img/carousel-2.jpg" alt="Multishop Project">
                                </div>

                                <div class="carousel-item">
                                    <img class="d-block w-100" src="/img/carousel-3.jpg" alt="Webuild Project">
                                </div>

                            </div>

                            <a class="carousel-control-prev" href="#carouselExampleIndicators10" role="button" data-bs-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="sr-only">Previous</span>
                            </a>

                            <a class="carousel-control-next" href="#carouselExampleIndicators10" role="button" data-bs-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="sr-only">Next</span>
                            </a>
                        </div>
                    </div>
                    <hr class="mt-5 mb-5">
                    <p>"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Voluptatum, temporibus? Esse earum hic harum impedit facere expedita inventore, doloribus magnam atque veritatis molestiae unde fuga nobis, vero adipisci excepturi iste delectus nostrum fugit laboriosam corporis minima. Nulla error quisquam quaerat dicta. Modi rem nam totam accusantium. Rem veniam quas error."</p>

                        
                        
                    {# <hr class="mt-5 mb-5">
                    <div class="container bg-light">
                        <div id="brands">
                            <h3 class="mt-5 mb-4">Marques</h3>
                            <div class="row mb-5">
                                <div class="col-md-4"><button type="button" class="btn btn-outline-secondary">Secondary</button></div>
                                <div class="col-md-4"><button type="button" class="btn btn-outline-secondary">Secondary</button></div>
                                <div class="col-md-4 mb-5"><button type="button" class="btn btn-outline-secondary">Secondary</button></div>


                                <div class="col-md-4"><button type="button" class="btn btn-outline-secondary">Secondary</button></div>
                                <div class="col-md-4"><button type="button" class="btn btn-outline-secondary">Secondary</button></div>
                                <div class="col-md-4 mb-5"><button type="button" class="btn btn-outline-secondary">Secondary</button></div>


                                <div class="col-md-4"><button type="button" class="btn btn-outline-secondary">Secondary</button></div>
                                <div class="col-md-4"><button type="button" class="btn btn-outline-secondary">Secondary</button></div>
                                <div class="col-md-4 mb-5"><button type="button" class="btn btn-outline-secondary">Secondary</button></div>
                            </div>
                        
                        </div>
                    </div>

                    <hr class="mt-5 mb-5">
                    <div class="container bg-light">
                        <div id="brands">
                            <h3 class="mt-5 mb-4">Types de produits</h3>
                            <div class="row mb-5">
                                <div class="col-md-4"><button type="button" class="btn btn-secondary btn-sm">Small button</button></div>
                                <div class="col-md-4"><button type="button" class="btn btn-secondary btn-sm">Small button</button></div>
                                <div class="col-md-4 mb-3"><button type="button" class="btn btn-secondary btn-sm">Small button</button></div>

                                <div class="col-md-4"><button type="button" class="btn btn-secondary btn-sm">Small button</button></div>
                                <div class="col-md-4"><button type="button" class="btn btn-secondary btn-sm">Small button</button></div>
                                <div class="col-md-4 mb-3"><button type="button" class="btn btn-secondary btn-sm">Small button</button></div>

                                <div class="col-md-4"><button type="button" class="btn btn-secondary btn-sm">Small button</button></div>
                                <div class="col-md-4"><button type="button" class="btn btn-secondary btn-sm">Small button</button></div>
                                <div class="col-md-4 mb-3"><button type="button" class="btn btn-secondary btn-sm">Small button</button></div>
                            </div>
                        
                        </div>
                    </div> #}
                </div>
                {# <div class="col-md-1 border">
                
                </div> #}
                
                <div class="col-md-10 border product">
                    <h3 class="mb-5 mt-3 text-white">Nos produits</h3>
                    {# On affiche tous les produits #}
                    <div class="row">
                        {% for success in app.flashes('success') %}
                            <div id="flash-message" class="alert alert-success" style="display:none">
                                {{ success }}
                            </div>
                        {% endfor %}

                        {% for product in products %}
                            <div class="col-md-3 col-sm-6 col-xs-12 crt text-white">
                                <div class="card mb-4 box-shadow ">
                                    <a href="{{ path('product', {slug: product.slug}) }}" class="btn btn-sm w3-hover">
                                        <img src="{{ asset('uploads/' ~ product.illustration) }}" class="img-fluid h-100 card-img-top" alt="{{ product.name }}">
                                    </a>
                                    <div class="card-body p-0 ">
                                        <h5 class="card-title text-center mt-4 "><b>{{ product.name }}</b></h5><br>
                                    </div>

                                    <div class="card-footer">
                                        <div class="col-md-12 ">
                                            {# <a class="text-center" href="{{ path('product', {slug: product.slug}) }}" class="btn btn-sm w3-hover"> #}
                                            <i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star-half-stroke"></i>
                                            <p class="card-text">{{ (product.price /100) | number_format(2, ",", "," ) }} €</p> {# Filtre  pour format d'affichage #}
                                        </div>
                                    </div>

                                    
                                    {# <div class="d-flex justify-content-between align-items-center">
                                        {% if product.isStock >= 50 %}
                                            <div class="btn-group">
                                                <a class="text-primary" href="{{ path('add_to_cart', {id: product.id}) }}"><i class="fas fa-cart-plus"></i></a>
                                            </div>
                                            <small class="text-muted"><b>{{ (product.price / 100)|number_format(2, ',', ',') }} €</b></small>
                                            {% else %}
                                                <b class="text-danger">En rupture de stock</b>
                                        {% endif %}
                                    </div> #}
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>

            </div>
        </div>
    </div>
{% endblock %}

{# {% block javascripts %}
    <script>
        $(document).ready(function() {
            $('#flash-message').show().delay(5000).fadeOut();
        });
    </script>
{% endblock %} #}
